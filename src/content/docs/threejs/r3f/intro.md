---
title: เริ่มต้น R3F
description: อธิบายขั้นตอนการใช้งาน React Three Fiber
author: Thanapat Nawang
---

# React Three Fiber (R3F) เบื้องต้น

เวลาพูดถึงการทำงานกับ 3D บนเว็บ หลายคนน่าจะเคยได้ยินชื่อ **Three.js** มาก่อน เพราะมันเป็น library พื้นฐานที่ช่วยให้เรา render กราฟิก 3 มิติด้วย WebGL ได้สะดวกขึ้น แต่พอเริ่มเขียนจริง เราจะพบว่าโค้ดของ Three.js ค่อนข้าง imperative (ต้องเขียนขั้นตอนทีละบรรทัด เช่น new object, add เข้า scene, render ด้วย renderer) ซึ่งพอ scene เริ่มซับซ้อนขึ้น ก็จะจัดการยากมาก

ตรงนี้เองที่ **React Three Fiber (R3F)** เข้ามาช่วยแก้ปัญหา มันถูกพัฒนาโดยทีม **pmndrs** ซึ่งเป็นทีมเดียวกับที่ทำ zustand, jotai และ drei จุดเด่นคือ R3F ทำหน้าที่เป็น **React renderer ของ Three.js** หมายความว่า เราสามารถใช้ JSX และ React hooks ในการเขียนโค้ด 3D scene ได้เลย โดยไม่ต้องจัดการทุกอย่างด้วยมือแบบ imperative อีกต่อไป

ข้อดีของการใช้ R3F คือเราจะได้โค้ดที่ declarative มากขึ้น เช่น เราสามารถเขียน `<mesh>` ลงไปใน JSX ได้ตรงๆ แทนที่จะต้องเขียน `new THREE.Mesh()` ด้วยตัวเอง ซึ่งช่วยให้อ่านง่าย เข้าใจง่าย และยังสามารถจัดองค์ประกอบออกเป็น component ย่อยๆ ได้เหมือนการทำงานกับ React DOM ปกติ นอกจากนี้ การใช้ hooks เช่น `useFrame` ก็ทำให้เราสามารถควบคุม animation หรือ update object ต่างๆ ได้สะดวกมากขึ้น

ในด้านประสิทธิภาพ R3F ไม่ได้ทำให้ Three.js ช้าลง เพราะจริงๆ แล้วเบื้องหลังมันก็ยังใช้ Three.js เหมือนเดิม สิ่งที่เปลี่ยนไปคือ layer การจัดการ state และการ render ซึ่งใช้ระบบ reconciler ของ React ทำให้การ update มีประสิทธิภาพมากขึ้น และยังสามารถใช้เทคนิค optimization ของ Three.js ได้เหมือนเดิม เช่น instancing หรือการ lazy load assets ต่างๆ ดังนั้น R3F จึงเหมาะทั้งกับงานเล็กๆ ที่อยากทำ interactive website และโปรเจคใหญ่ๆ ที่ต้องการจัดการโครงสร้างซีนแบบ component-based

## การติดตั้ง

ถ้าเรามีโปรเจค React อยู่แล้ว สามารถติดตั้ง R3F ได้ทันทีด้วยคำสั่ง:

```bash
npm install @react-three/fiber three
```

## สรุปสั้นๆ

React Three Fiber คือเครื่องมือที่ทำให้การเขียน Three.js เป็นเรื่องที่ “React-friendly” มากขึ้น ช่วยให้เราเขียนโค้ดแบบ declarative ใช้ component และ hooks ได้เต็มรูปแบบ โดยไม่เสียความสามารถหรือประสิทธิภาพใดๆ ของ Three.js ไปเลย เหมาะมากสำหรับคนที่คุ้นเคยกับ React อยู่แล้ว และอยากพัฒนา 3D web
